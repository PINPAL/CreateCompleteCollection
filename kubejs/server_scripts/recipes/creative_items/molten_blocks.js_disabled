const metals = [
	{ name: "iron" },
	{ name: "copper" },
	{ name: "gold" },
	{ name: "zinc" },
	{ name: "brass" },
	{ name: "tin" },
	{ name: "bronze" },
	{ name: "steel" },
	{ name: "industrial_iron" },
	{ name: "diamond" },
	{ name: "emerald" },
	{ name: "powdered_obsidian" },
	{ name: "redstone" },
];

ServerEvents.recipes((event) => {
	metals.forEach((metal) => {
		// iron block -> molten iron fluid
		event.recipes
			.melterMelting(Fluid.of("cosmic_contraptions:molten_" + metal.name, 10), `#forge:storage_blocks/${metal.name}`)
			.processingTime(200)
			.minimumHeat(16);

		// molten iron fluid -> molten iron ingot
		event.custom({
			type: "create_dd:freezing",
			ingredients: [
				{
					item: `cosmic_contraptions:molten_${metal.name}_bucket`,
				},
			],
			results: [
				{
					item: `cosmic_contraptions:molten_${metal.name}_ingot`,
					count: 1,
				},
				{
					item: "minecraft:bucket",
					count: 1,
				},
			],
		});

		// molten iron ingot -> molten iron block
		event.recipes.create
			.compacting(
				Item.of(`cosmic_contraptions:molten_${metal.name}_block`),
				Item.of(`11x cosmic_contraptions:molten_${metal.name}_ingot`)
			)
			.superheated();
	});

	event.recipes.create.mechanical_crafting(
		"cosmic_contraptions:metal_alloy_block",
		["  a  ", " 123 ", "b456c", " 789 ", "  d  "],
		{
			1: "cosmic_contraptions:molten_iron_block",
			2: "cosmic_contraptions:molten_copper_block",
			3: "cosmic_contraptions:molten_gold_block",
			4: "cosmic_contraptions:molten_zinc_block",
			5: "cosmic_contraptions:molten_brass_block",
			6: "cosmic_contraptions:belt_scroll",
			7: "cosmic_contraptions:molten_bronze_block",
			8: "cosmic_contraptions:molten_steel_block",
			9: "cosmic_contraptions:molten_cast_iron_block",
			a: "cosmic_contraptions:molten_diamond_block",
			b: "cosmic_contraptions:molten_emerald_block",
			c: "cosmic_contraptions:molten_powdered_obsidian_block",
			d: "cosmic_contraptions:molten_redstone_block",
		}
	);
});
