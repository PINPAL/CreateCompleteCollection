global.lootboxes = {
	basic: {
		name: "Stone",
		rolls: 16,
		items: [
			{
				item: "kubejs:refined_stone",
				weight: 5,
			},
			{
				item: "minecraft:oak_log",
				weight: 4,
			},
			{
				item: "minecraft:andesite",
				weight: 5,
			},
			{
				item: "minecraft:stick",
				weight: 3,
			},
			{
				item: "minecraft:cobblestone",
				weight: 2,
			},
			{
				item: "minecraft:coal",
				weight: 2,
			},
			{
				item: "minecraft:torch",
				weight: 1,
			},
			{
				item: "farmersdelight:bacon_sandwich",
				weight: 1,
			},
			{
				item: "kubejs:stone_repair_kit",
				weight: 2,
			},
			{
				item: "kubejs:wooden_repair_kit",
				weight: 1,
			},
			{
				item: "kubejs:leather_repair_kit",
				weight: 1,
			},
			{
				item: "create:hand_crank",
				weight: 1,
			},
		],
	},
	andesite: {
		name: "Andesite",
		rolls: 12,
		items: [
			{
				item: "create:andesite_alloy",
				weight: 7,
			},
			{
				item: "create:andesite_casing",
				weight: 6,
			},
			{
				item: "create:cogwheel",
				weight: 4,
			},
			{
				item: "create:shaft",
				weight: 4,
			},
			{
				item: "create:large_cogwheel",
				weight: 3,
			},
			{
				item: "create:mechanical_saw",
				weight: 1,
			},
			{
				item: "create:andesite_funnel",
				weight: 1,
			},
			{
				item: "create:andesite_tunnel",
				weight: 1,
			},
			{
				item: "sliceanddice:slicer",
				weight: 1,
			},
			{
				item: "kubejs:copper_repair_kit",
				weight: 2,
			},
			{
				item: "create:mechanical_mixer",
				weight: 1,
			},
			{
				item: "create:deployer",
				weight: 1,
			},
			{
				item: "create:millstone",
				weight: 1,
			},
		],
	},
	copper: {
		name: "Copper",
		rolls: 10,
		items: [
			{
				item: "#forge:ingots/copper",
				weight: 7,
			},
			{
				item: "create:copper_casing",
				weight: 6,
			},
			{
				item: "create:spout",
				weight: 1,
			},
			{
				item: "create:portable_fluid_interface",
				weight: 1,
			},
			{
				item: "create:fluid_pipe",
				weight: 3,
			},
			{
				item: "create:mechanical_pump",
				weight: 1,
			},
			{
				item: "create:fluid_valve",
				weight: 1,
			},
			{
				item: "create:fluid_tank",
				weight: 1,
			},
			{
				item: "create:hose_pulley",
				weight: 1,
			},
			{
				item: "create:item_drain",
				weight: 1,
			},
			{
				item: "create:copper_valve_handle",
				weight: 1,
			},
			{
				item: "kubejs:copper_repair_kit",
				weight: 1,
			},
		],
	},
	brass: {
		name: "Brass",
		rolls: 10,
		items: [
			{
				item: "#forge:ingots/brass",
				weight: 6,
			},
			{
				item: "create:brass_casing",
				weight: 4,
			},
			{
				item: "kubejs:iron_repair_kit",
				weight: 2,
			},
			{
				item: "create:blaze_burner",
				weight: 1,
			},
			{
				item: "create:brass_tunnel",
				weight: 2,
			},
			{
				item: "create:brass_funnel",
				weight: 2,
			},
			{
				item: "create:mechanical_crafter",
				weight: 1,
			},
			{
				item: "create:crushing_wheel",
				weight: 1,
			},
			{
				item: "create:clockwork_bearing",
				weight: 1,
			},
			{
				item: "create:rotation_speed_controller",
				weight: 1,
			},
			{
				item: "create:mechanical_arm",
				weight: 1,
			},
		],
	},
	steel: {
		name: "Steel",
		rolls: 10,
		items: [
			{
				item: "#forge:ingots/steel",
				weight: 7,
			},
			{
				item: "tfmg:coal_coke",
				weight: 4,
			},
			{
				item: "createindustry:steel_casing",
				weight: 6,
			},
			{
				item: "create_dd:steel_casing",
				weight: 4,
			},
			{
				item: "kubejs:steel_repair_kit",
				weight: 2,
			},
			{
				item: "createindustry:steel_mechanism",
				weight: 1,
			},
		],
	},
	train: {
		name: "Electric",
		rolls: 10,
		items: [
			{
				item: "#forge:gems/diamond",
				weight: 7,
			},
			{
				item: "create:railway_casing",
				weight: 6,
			},
			{
				item: "createaddition:tesla_coil",
				weight: 1,
			},
			{
				item: "createaddition:modular_accumulator",
				weight: 1,
			},
			{
				item: "createaddition:portable_energy_interface",
				weight: 1,
			},
			{
				item: "createaddition:electric_motor",
				weight: 1,
			},
			{
				item: "createaddition:alternator",
				weight: 1,
			},
			{
				item: "createaddition:redstone_relay",
				weight: 1,
			},
			{
				item: "kubejs:diamond_repair_kit",
				weight: 2,
			},
			{
				item: "kubejs:netherite_repair_kit",
				weight: 1,
			},
		],
	},
	redstone: {
		name: "Redstone",
		rolls: 10,
		items: [
			{
				item: "#forge:gems/redstone",
				weight: 7,
			},
			{
				item: "minecraft:redstone_torch",
				weight: 4,
			},
			{
				item: "minecraft:repeater",
				weight: 4,
			},
			{
				item: "minecraft:comparator",
				weight: 4,
			},
			{
				item: "minecraft:observer",
				weight: 3,
			},
			{
				item: "minecraft:dispenser",
				weight: 2,
			},
			{
				item: "minecraft:dropper",
				weight: 2,
			},
			{
				item: "minecraft:piston",
				weight: 2,
			},
			{
				item: "minecraft:sticky_piston",
				weight: 2,
			},
			{
				item: "minecraft:daylight_detector",
				weight: 1,
			},
			{
				item: "minecraft:note_block",
				weight: 1,
			},
			{
				item: "create:redstone_link",
				weight: 1,
			},
			{
				item: "create:redstone_contact",
				weight: 1,
			},
			{
				item: "create:powered_latch",
				weight: 1,
			},
			{
				item: "create:powered_toggle_latch",
				weight: 1,
			},
			{
				item: "create:pulse_repeater",
				weight: 1,
			},
			{
				item: "create:pulse_extender",
				weight: 1,
			},
			{
				item: "create:analog_lever",
				weight: 1,
			},
			{
				item: "bobberdetector:bobber_detector",
				weight: 1,
			},
			{
				item: "createaddition:redstone_relay",
				weight: 1,
			},
		],
	},
	explorer: {
		name: "Explorer",
		rolls: 2,
		items: [
			{
				item: "minecraft:oak_sapling",
				weight: 1,
			},
			{
				item: "minecraft:spruce_sapling",
				weight: 1,
			},
			{
				item: "minecraft:birch_sapling",
				weight: 1,
			},
			{
				item: "minecraft:jungle_sapling",
				weight: 1,
			},
			{
				item: "minecraft:acacia_sapling",
				weight: 1,
			},
			{
				item: "minecraft:dark_oak_sapling",
				weight: 1,
			},
			{
				item: "minecraft:mangrove_propagule",
				weight: 1,
			},
			{
				item: "ecologics:walnut_sapling",
				weight: 1,
			},
			{
				item: "ecologics:coconut_seedling",
				weight: 1,
			},
			{
				item: "minecraft:moss_block",
				weight: 1,
			},
			{
				item: "minecraft:rose_bush",
				weight: 1,
			},
			{
				item: "minecraft:sunflower",
				weight: 1,
			},
			{
				item: "kubejs:cornflower_bush_item",
				weight: 1,
			},
		],
	},
	colored: {
		name: "Colored",
		rolls: 16,
		items: [
			{
				item: "kubejs:white_dye_fluid_bucket",
				weight: 2,
			},
			{
				item: "kubejs:orange_dye_fluid_bucket",
				weight: 1,
			},
			{
				item: "kubejs:magenta_dye_fluid_bucket",
				weight: 1,
			},
			{
				item: "kubejs:light_blue_dye_fluid_bucket",
				weight: 1,
			},
			{
				item: "kubejs:yellow_dye_fluid_bucket",
				weight: 2,
			},
			{
				item: "kubejs:lime_dye_fluid_bucket",
				weight: 1,
			},
			{
				item: "kubejs:pink_dye_fluid_bucket",
				weight: 1,
			},
			{
				item: "kubejs:gray_dye_fluid_bucket",
				weight: 1,
			},
			{
				item: "kubejs:light_gray_dye_fluid_bucket",
				weight: 1,
			},
			{
				item: "kubejs:cyan_dye_fluid_bucket",
				weight: 1,
			},
			{
				item: "kubejs:purple_dye_fluid_bucket",
				weight: 1,
			},
			{
				item: "kubejs:blue_dye_fluid_bucket",
				weight: 2,
			},
			{
				item: "kubejs:brown_dye_fluid_bucket",
				weight: 1,
			},
			{
				item: "kubejs:green_dye_fluid_bucket",
				weight: 1,
			},
			{
				item: "kubejs:red_dye_fluid_bucket",
				weight: 2,
			},
			{
				item: "kubejs:black_dye_fluid_bucket",
				weight: 1,
			},
		],
	},
	digital: {
		name: "Digital",
		rolls: 10,
		items: [
			{
				item: "#forge:silicon",
				weight: 7,
			},
			{
				item: "refinedstorage:cable",
				weight: 4,
			},
			{
				item: "refinedstorage:external_storage",
				weight: 3,
			},
			{
				item: "refinedstorage:importer",
				weight: 1,
			},
			{
				item: "refinedstorage:exporter",
				weight: 1,
			},
			{
				item: "refinedstorage:crafting_grid",
				weight: 2,
			},
			{
				item: "refinedstorage:fluid_grid",
				weight: 2,
			},
			{
				item: "refinedstorage:pattern_grid",
				weight: 2,
			},
			{
				item: "refinedstorage:crafting_monitor",
				weight: 1,
			},
			{
				item: "refinedstorage:controller",
				weight: 1,
			},
			{
				item: "refinedstorage:crafter",
				weight: 1,
			},
			{
				item: "refinedstorage:speed_upgrade",
				weight: 3,
			},
			{
				item: "refinedstorage:stack_upgrade",
				weight: 2,
			},
			{
				item: "refinedstorage:crafting_upgrade",
				weight: 1,
			},
			{
				item: "refinedstorage:upgrade",
				weight: 4,
			},
		],
	},
	enchantments_weapon: {
		name: "Weapon Enchants",
		rolls: 1,
		items: [
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:sharpness", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:smite", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:bane_of_arthropods", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:knockback", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:fire_aspect", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:looting", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:sweeping", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:power", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:punch", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:flame", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:infinity", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:multishot", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:quick_charge", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:piercing", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:loyalty", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:impaling", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:riptide", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:channeling", 1),
				weight: 1,
			},
			{
				item: Item.of(
					"minecraft:enchanted_book",
					1,
					'{StoredEnchantments:[{id:"modification_of_critical_hit:criteffect",lvl:1s}]}'
				),
				weight: 1,
			},
			{
				item: Item.of(
					"minecraft:enchanted_book",
					1,
					'{StoredEnchantments:[{id:"modification_of_critical_hit:critchance",lvl:1s}]}'
				),
				weight: 1,
			},
		],
	},
	enchantments_generic: {
		name: "Random Enchants",
		rolls: 1,
		items: [
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:luck_of_the_sea", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:lure", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:mending", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:vanishing_curse", 1),
				weight: 1,
			},
			{
				item: Item.of(
					"minecraft:enchanted_book",
					1,
					'{StoredEnchantments:[{id:"create:potato_recovery",lvl:1s}]}'
				),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book", 1, '{StoredEnchantments:[{id:"create:capacity",lvl:1s}]}'),
				weight: 1,
			},
			{
				item: Item.of(
					"minecraft:enchanted_book",
					1,
					'{StoredEnchantments:[{id:"farmersdelight:backstabbing",lvl:1s}]}'
				),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:efficiency", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:silk_touch", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:unbreaking", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:fortune", 1),
				weight: 1,
			},
		],
	},
	enchantments_armor: {
		name: "Armor Enchants",
		rolls: 1,
		items: [
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:protection", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:fire_protection", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:feather_falling", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:blast_protection", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:projectile_protection", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:respiration", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:aqua_affinity", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:thorns", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:depth_strider", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:frost_walker", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:binding_curse", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:swift_sneak", 1),
				weight: 1,
			},
			{
				item: Item.of("minecraft:enchanted_book").enchant("minecraft:soul_speed", 1),
				weight: 1,
			},
			{
				item: Item.of(
					"minecraft:enchanted_book",
					1,
					'{StoredEnchantments:[{id:"ensorcellation:air_affinity",lvl:1s}]}'
				),
				weight: 1,
			},
		],
	},
};

StartupEvents.registry("block", (event) => {
	for (const key in global.lootboxes) {
		let lootbox = global.lootboxes[key];

		event
			.create(`kubejs:lootbox_${key}`, "cardinal")
			.displayName(`${lootbox.name} Lootbox`)
			.soundType("wood")
			.hardness(2)
			.tagBlock("minecraft:mineable/pickaxe")
			.tagBlock("kubejs:lootbox")
			.tagItem("kubejs:lootbox")
			.noValidSpawns(true)
			.suffocating(false)
			.item((item) => {
				item.unstackable();
				item.rarity("epic");
			});
	}
});
